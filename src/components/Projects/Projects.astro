---
import { useTranslations } from "../../i18n/util";
import { languages } from "../../i18n/ui";
import CardProjects from "../CardProjects/CardProjects.astro";
import "./Projects.css";

const currentLang = Astro.currentLocale || "es";
const translateLabels = useTranslations(currentLang as keyof typeof languages);

/**
 * MODELO DE ATENCIÓN COMERCIAL
 * Reutilizamos la estructura de projects para mostrar el proceso
 */
const projects = [
  {
    id: "step-1",
    title: translateLabels("project-card-first-title"),
    description: translateLabels("project-card-first-description"),
    client: "Paso 01",
    images: [
      {
        src: "/assets/images/analisis.webp",
        alt: translateLabels("project-card-first-alt"),
      },
    ],
  },
  {
    id: "step-2",
    title: translateLabels("project-card-second-title"),
    description: translateLabels("project-card-second-description"),
    client: "Paso 02",
    images: [
      {
        src: "/assets/images/diseño.webp",
        alt: translateLabels("project-card-second-alt"),
      },
    ],
  },
  {
    id: "step-3",
    title: translateLabels("project-card-third-title"),
    description: translateLabels("project-card-third-description"),
    client: "Paso 03",
    images: [
      {
        src: "/assets/images/planeacion.webp",
        alt: translateLabels("project-card-third-alt"),
      },
    ],
  },
  {
    id: "step-4",
    title: translateLabels("project-card-fourth-title"),
    description: translateLabels("project-card-fourth-description"),
    client: "Paso 04",
    images: [
      {
        src: "/assets/images/supervision.webp",
        alt: translateLabels("project-card-fourth-alt"),
      },
    ],
  },
  {
    id: "step-5",
    title: translateLabels("project-card-fifth-title"),
    description: translateLabels("project-card-fifth-description"),
    client: "Paso 05",
    images: [
      {
        src: "/assets/images/video-image.webp",
        alt: translateLabels("project-card-fifth-alt"),
      },
    ],
  },
];
---

<section id="projects">
  <div class="project-section-container">
    <!-- Header -->
    <div class="bg-section">
      <figure class="shape-container fade-in-up" data-delay="0">
        <img
          class="shape floating-animation"
          src="/assets/Icons/shape.svg"
          alt=""
        />
      </figure>

      <h1 class="slide-in-up" data-delay="200">
        {translateLabels("project.title")}
      </h1>
    </div>

    <!-- Swiper -->
    <div class="swiper SwiperProject fade-in-up" data-delay="400">
      <div class="project-card-container swiper-wrapper">
        {
          projects.map((project, index) => (
            <div class="swiper-slide">
              <div
                class="card-wrapper slide-in-up"
                data-delay={600 + index * 200}
              >
                <CardProjects
                  title={project.title}
                  description={project.description}
                  client={project.client}
                  images={project.images}
                  projectId={project.id}
                />
              </div>
            </div>
          ))
        }
      </div>

      <!-- Navigation -->
      <div class="custom-navigation">
        <div class="swiper-button-prev custom-prev"></div>
        <div class="swiper-button-next custom-next"></div>
      </div>
    </div>
  </div>
</section>

<script src="./Projects.js"></script>
